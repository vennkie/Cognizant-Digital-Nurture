<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Event Portal</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #8A2BE2;  /* Violet */
            --secondary-color: #E6E6FA;  /* Light Violet */
            --text-color: #333333;
            --white: #FFFFFF;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--text-color);
            background-color: var(--white);
        }

        .navbar {
            background-color: var(--primary-color) !important;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: #7B1FA2;
            border-color: #7B1FA2;
        }

        .btn-outline-light:hover {
            background-color: var(--secondary-color);
            color: var(--primary-color);
        }

        #welcomeBanner {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .card {
            border-color: var(--secondary-color);
        }

        .card-title {
            color: var(--primary-color);
        }

        footer {
            background-color: var(--primary-color) !important;
        }

        .highlight {
            color: var(--primary-color);
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(138, 43, 226, 0.25);
        }

        .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(138, 43, 226, 0.25);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">Community Portal</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#events">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
                <a href="help.html" class="btn btn-outline-light" target="_blank">Help</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container my-5">
        <!-- Welcome Section -->
        <section id="home" class="mb-5">
            <div id="welcomeBanner">
                <h1>Welcome to Our Community Portal!</h1>
                <p>Discover local events and services in your area. <span style="color: red; font-weight: bold;">SPECIAL OFFER: First event registration is free!</span></p>
            </div>
            
            <div class="row">
                <div class="col-md-8">
                    <h2 class="highlight">Upcoming Events</h2>
                    <p>Our community offers a variety of events throughout the year. Browse our calendar to find activities that interest you.</p>
                    
                    <!-- Multi-column news section -->
                    <div class="multi-column">
                        <h3>Community Bulletin</h3>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse dictum feugiat nisl ut dapibus.</p>
                        <p>Vestibulum auctor dapibus neque. Maecenas sed nisi in arcu semper venenatis. Fusce sagittis, lorem in sollicitudin porta, quam lectus facilisis diam, non mollis quam urna quis quam. Sed a libero quis mi pretium venenatis at sed justo.</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Quick Links</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><a href="#registration">Register for Events</a></li>
                                <li class="list-group-item"><a href="#gallery">Event Gallery</a></li>
                                <li class="list-group-item"><a href="#feedback">Give Feedback</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Geolocation Button -->
                    <button id="findEventsBtn" class="btn btn-primary mt-3 w-100">
                        <i class="bi bi-geo-alt"></i> Find Nearby Events
                    </button>
                    <div id="locationResult" class="mt-2"></div>
                </div>
            </div>
        </section>

        <!-- Events Gallery Section -->
        <section id="gallery" class="mb-5">
            <h2 class="mb-4">Past Event Gallery</h2>
            <table class="table table-bordered">
                <caption>Photos from our recent community events</caption>
                <tbody>
                    <tr>
                        <td>
                            <img src="https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=300&h=200&fit=crop" 
                                 alt="Summer Festival" 
                                 title="Annual Summer Festival"
                                 class="img-thumbnail event-image"
                                 ondblclick="enlargeImage(this)">
                            <p class="text-center mt-2">Annual Summer Festival</p>
                        </td>
                        <td>
                            <img src="https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=300&h=200&fit=crop" 
                                 alt="Food Fair" 
                                 title="Local Food Fair"
                                 class="img-thumbnail event-image"
                                 ondblclick="enlargeImage(this)">
                            <p class="text-center mt-2">Local Food Fair</p>
                        </td>
                        <td>
                            <img src="https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=300&h=200&fit=crop" 
                                 alt="Art Exhibition" 
                                 title="Community Art Exhibition"
                                 class="img-thumbnail event-image"
                                 ondblclick="enlargeImage(this)">
                            <p class="text-center mt-2">Community Art Exhibition</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=300&h=200&fit=crop" 
                                 alt="Music Night" 
                                 title="Local Band Night"
                                 class="img-thumbnail event-image"
                                 ondblclick="enlargeImage(this)">
                            <p class="text-center mt-2">Local Band Night</p>
                        </td>
                        <td>
                            <img src="https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=300&h=200&fit=crop" 
                                 alt="Sports Day" 
                                 title="Community Sports Day"
                                 class="img-thumbnail event-image"
                                 ondblclick="enlargeImage(this)">
                            <p class="text-center mt-2">Community Sports Day</p>
                        </td>
                        <td>
                            <img src="https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?w=300&h=200&fit=crop" 
                                 alt="Workshop" 
                                 title="DIY Workshop"
                                 class="img-thumbnail event-image"
                                 ondblclick="enlargeImage(this)">
                            <p class="text-center mt-2">DIY Workshop</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Events Section -->
        <section id="events" class="mb-5">
            <h2 class="mb-4">Upcoming Events</h2>
            <div id="eventContainer" class="row">
                <!-- Events will be loaded dynamically from JavaScript -->
            </div>
        </section>

        <!-- Registration Form Section -->
        <section id="registration" class="mb-5">
            <h2 class="mb-4">Event Registration</h2>
            <form id="registrationForm" class="needs-validation" novalidate>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="name" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="name" required autofocus>
                        <div class="invalid-feedback">
                            Please provide your name.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" required placeholder="example@email.com">
                        <div class="invalid-feedback">
                            Please provide a valid email.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="phone" class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="phone" onblur="validatePhone(this)">
                        <div class="invalid-feedback">
                            Please provide a valid phone number.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="date" class="form-label">Preferred Date</label>
                        <input type="date" class="form-control" id="date" required>
                        <div class="invalid-feedback">
                            Please select a date.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="eventType" class="form-label">Event Type</label>
                        <select class="form-select" id="eventType" required onchange="showEventFee(this)">
                            <option value="">Choose...</option>
                            <option value="workshop">Workshop</option>
                            <option value="festival">Festival</option>
                            <option value="sports">Sports Event</option>
                            <option value="concert">Concert</option>
                        </select>
                        <div class="invalid-feedback">
                            Please select an event type.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="fee" class="form-label">Fee</label>
                        <input type="text" class="form-control" id="fee" readonly>
                    </div>
                    <div class="col-12">
                        <label for="message" class="form-label">Special Requirements</label>
                        <textarea class="form-control" id="message" rows="3" onkeyup="countChars(this)"></textarea>
                        <div id="charCount" class="form-text">0/200 characters</div>
                    </div>
                    <div class="col-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="terms" required>
                            <label class="form-check-label" for="terms">
                                I agree to the terms and conditions
                            </label>
                            <div class="invalid-feedback">
                                You must agree before submitting.
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary" type="submit" onclick="submitForm(event)">Register</button>
                        <button type="button" class="btn btn-outline-secondary ms-2" onclick="clearPreferences()">Clear Preferences</button>
                    </div>
                </div>
                <output id="formOutput" class="mt-3 d-block"></output>
            </form>
        </section>

        <!-- Feedback Section -->
        <section id="feedback" class="mb-5">
            <h2 class="mb-4">Event Feedback</h2>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Share Your Experience</h5>
                    <form id="feedbackForm">
                        <div class="mb-3">
                            <label for="feedbackEvent" class="form-label">Event</label>
                            <select class="form-select" id="feedbackEvent">
                                <option value="">Select an event</option>
                                <option value="summer-festival">Summer Festival</option>
                                <option value="food-fair">Food Fair</option>
                                <option value="art-exhibition">Art Exhibition</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackText" class="form-label">Your Feedback</label>
                            <textarea class="form-control" id="feedbackText" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackRating" class="form-label">Rating</label>
                            <input type="range" class="form-range" id="feedbackRating" min="1" max="5">
                            <div class="d-flex justify-content-between">
                                <small>Poor</small>
                                <small>Excellent</small>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Feedback</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Video Section -->
        <section id="video" class="mb-5">
            <h2 class="mb-4">Community Highlights</h2>
            <div class="ratio ratio-16x9">
                <video id="eventVideo" controls oncanplay="videoReady()">
                    <source src="https://samplelib.com/lib/preview/mp4/sample-5s.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div id="videoStatus" class="mt-2"></div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="mb-5">
            <h2 class="mb-4">Contact Us</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Community Center</h5>
                            <p class="card-text">
                                <i class="bi bi-geo-alt"></i> 123 Main Street, Anytown<br>
                                <i class="bi bi-telephone"></i> (555) 123-4567<br>
                                <i class="bi bi-envelope"></i> info@communityportal.org
                            </p>
                            <p>Office Hours: Monday-Friday, 9am-5pm</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Send Us a Message</h5>
                            <form>
                                <div class="mb-3">
                                    <label for="contactName" class="form-label">Name</label>
                                    <input type="text" class="form-control" id="contactName">
                                </div>
                                <div class="mb-3">
                                    <label for="contactEmail" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="contactEmail">
                                </div>
                                <div class="mb-3">
                                    <label for="contactMessage" class="form-label">Message</label>
                                    <textarea class="form-control" id="contactMessage" rows="3"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Send</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Community Portal</h5>
                    <p>Connecting residents with local events and services.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home" class="text-white">Home</a></li>
                        <li><a href="#events" class="text-white">Events</a></li>
                        <li><a href="#contact" class="text-white">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Follow Us</h5>
                    <div class="social-icons">
                        <a href="#" class="text-white me-2"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-white me-2"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="text-white me-2"><i class="bi bi-instagram"></i></a>
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p class="mb-0">&copy; 2023 Community Portal. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modal for enlarged image -->
    <div class="modal fade" id="imageModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Event Image</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <img id="modalImage" src="" class="img-fluid">
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="main.js"></script>
</body>
</html>